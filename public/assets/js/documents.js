var filesList=$("#fetchedList"),currentType="google-link",box=!1;function showAndFill(e,i,t){box?(box=!box,$("#sendFile").remove()):(box=!box,$(document.body).append(`<div id="sendFile" class="animate__animated animate__fadeInUp">\n      <form id="shortdata" action="/documents/share" method="post" class="shareViaEmail">\n      <div id="file-details">\n          <div style="width:90%">${e}</div>\n          <div id="del" style="width:10%;text-align:center;color:  #6BAAED;" class="question"><i onclick="hideAndEmpty()" class="fa-solid fa-xmark" data-toggle="tooltip" data-placement="top" title="Close"></i></div>\n        </div>\n      <div id="lastrow">\n      <input type="text" name="fileId" value="${i}" style="width:75%;display:none"  class="form-container" required>\n      <input type="text" name="userId" value="${t}" style="width:75%;display:none"  class="form-container" required>\n      <input type="email" name="mail" placeholder="Enter recipient's Email.." style="width:75%;"  class="form-container" required>\n      <button type="submit" class="submit" style="width:22%;"><i class="fa-solid fa-paper-plane"></i> Share</button>\n      </div>\n      </form>\n      </div>`),shareFile())}function hideAndEmpty(){box&&(box=!box,$("#sendFile").remove())}function sortByDate(){let e=filesList.children(),i=e.length;for(;i--;)filesList.append(e[i])}function ValidateSize(e){e.files[0].size/1024/1024>2&&(alert("File size exceeds 2 MB"),document.getElementById("file-input").value=null)}$("#select-upload").on("change",function(){if(console.log("hola"),currentType!=this.value)return console.log(currentType),void("Google Drive Link"===(currentType=this.value)?$("#file-input").replaceWith('<input type="url" id="file-input" name="doc" placeholder="Enter Publicly shareable Google Drive Link of file" style="width:55%;"  class="form-container" required>'):$("#file-input").replaceWith('<input type="file" id="file-input" name="doc" style="width:55%;"  class="form-container" onchange="ValidateSize(this)" required>'))});let shareFile=function(){let e=$(".shareViaEmail");console.log(e),e.submit(function(i){i.preventDefault(),$.ajax({type:"post",url:"/documents/share",data:e.serialize(),success:function(e){console.log(e),hideAndEmpty(),alert(e.message)},error:function(e){console.log(e.responseText)}})})};